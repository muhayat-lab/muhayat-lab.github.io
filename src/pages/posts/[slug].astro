---
import Base from '../../layouts/BaseLayout.astro';
import Nav from '../../components/Nav.astro';
import Footer from '../../components/Footer.astro';
import { getCollection } from 'astro:content';

// Pre-render semua path artikel
export async function getStaticPaths() {
  const posts = await getCollection('posts');
  return posts.map((p) => ({
    params: { slug: p.slug },
    props: { post: p },
  }));
}

const { post } = Astro.props;
---

<Base title={`${post.data.title} â€” Muhayat Techlabs`}>
  <Nav />
  <main class="max-w-3xl mx-auto px-4 py-10 prose prose-emerald">
    <h1>{post.data.title}</h1>
    <p class="text-sm text-gray-500">{post.data.date}</p>
    <article set:html={post.body} />
  </main>
  <Footer />
</Base>
