---
interface Props {
  title?: string;       // frontmatter.title
  description?: string; // frontmatter.description
  author?: string;      // frontmatter.author
  date?: string;        // frontmatter.date (YYYY-MM-DD)
}

const {
  title = "Muhayat Techlabs",
  description = "Website pribadi dosen: materi kuliah, artikel, dan inspirasi TI.",
  author = "Anonim",
  date,
} = Astro.props;

import Header from "../components/Header.astro";
import "../styles/global.css";

const dateLabel =
  date ? new Date(date).toLocaleDateString("id-ID", { day: "numeric", month: "numeric", year: "numeric" }) : "";
---

<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="/og.png" />
    <style>
      :root{ --brand:#1c8139; --brand-600:#0b7b61; --brand-700:#096e58; }
      .md-content :where(h1,h2,h3,h4){ scroll-margin-top: 96px; }
    </style>
  </head>
  <body class="text-gray-900 antialiased">
    <Header />

    <main id="content" class="md-content mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
      <article class="prose prose-lg prose-headings:font-semibold prose-a:text-[var(--brand-700)] hover:prose-a:text-[var(--brand-600)]">
        <!-- Judul dari frontmatter -->
        <h1 class="mb-2">{title}</h1>

        <!-- Author · Tanggal tepat di bawah judul -->
        <p class="text-sm text-gray-500 not-prose mb-8">
          {author && <>✍️ {author}</>}{dateLabel && <> · {dateLabel}</>}
        </p>

        <!-- Isi artikel (dari Markdown) -->
        <slot />
      </article>
    </main>

    <footer class="mt-20 text-white">
      <div class="bg-gradient-to-r from-[var(--brand)] to-black">
        <div class="mx-auto max-w-6xl px-4 sm:px-6 py-5">
          <div class="border-t border-white/10 pt-4 text-sm text-white/70">
            © {new Date().getFullYear()} Muhayat Techlabs. All rights reserved.
          </div>
        </div>
      </div>
    </footer>
  </body>
</html>
